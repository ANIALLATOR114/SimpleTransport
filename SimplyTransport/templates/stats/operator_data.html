<div class="inner-container">
    <h3 class="h3-table">Operator Route Data</h3>
    <table class="table-search table-sortable" aria-label="Operator Data">
        <thead class="hoverable">
            <tr>
                <th class="dense-text">Name</th>
                <th class="dense-text">Routes</th>
                <th class="dense-text" data-type="number">Percentage</th>
            </tr>
        </thead>
        <tbody>
            {% for key, value, percentage in routes_with_percentages %}
                <tr>
                    <td class="dense-text no-pointer">{{ key }}</td>
                    <td class="dense-text no-pointer">{{ value }}</td>
                    <td class="dense-text no-pointer">{{ percentage }}%</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<div class="inner-container">
    <h3 class="h3-table">Operator Trip Data</h3>
    <table class="table-search table-sortable" aria-label="Operator Data">
        <thead class="hoverable">
            <tr>
                <th class="dense-text">Name</th>
                <th class="dense-text">Trips</th>
                <th class="dense-text" data-type="number">Percentage</th>
            </tr>
        </thead>
        <tbody>
            {% for key, value, percentage in trips_with_percentages %}
                <tr>
                    <td class="dense-text no-pointer">{{ key }}</td>
                    <td class="dense-text no-pointer">{{ value }}</td>
                    <td class="dense-text no-pointer">{{ percentage }}%</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script>
document.querySelectorAll(".table-sortable th").forEach((headerCell) => {
  headerCell.addEventListener("click", () => {
    const tableElement = headerCell.parentElement.parentElement.parentElement;
    const headerIndex = Array.prototype.indexOf.call(
      headerCell.parentElement.children,
      headerCell
    );
    const currentIsAscending = headerCell.classList.contains("th-sort-asc");

    sortTableByColumn(tableElement, headerIndex, !currentIsAscending);
  });
});
</script>
